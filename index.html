<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tehreem’s Calculator</title>

<style>
/* ===== COLORS ===== */
:root{
  --bg:#000;
  --panel:#0e0e0e;
  --btn:#151515;
  --btn-op:#ffffff;
  --txt:#ffffff;
  --txt-dark:#000;
  --muted:#9a9a9a;
}

/* ===== BASIC RESET ===== */
*{ box-sizing:border-box }
html,body{ height:100% }

body{
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:var(--bg);
  font-family:Arial, sans-serif;
  color:var(--txt);
  padding:12px;
}

/* ===== CALCULATOR ===== */
.calculator{
  width:min(420px,100%);
  background:var(--panel);
  padding:20px;
  border-radius:20px;
}

/* ===== TITLE ===== */
.header{
  text-align:center;
  margin-bottom:10px;
}

.brand{
  font-size:14px;
  font-weight:bold;
}

/* ===== DISPLAY ===== */
.display{
  background:#000;
  padding:15px;
  border-radius:14px;
  text-align:right;
  margin-bottom:12px;
}

.history{
  font-size:12px;
  color:var(--muted);
  min-height:14px;
}

.result{
  font-size:32px;
  font-weight:bold;
  word-break:break-all;
}

/* ===== BUTTONS ===== */
.keys{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}

button{
  height:55px;
  border:none;
  border-radius:12px;
  background:var(--btn);
  color:var(--txt);
  font-size:18px;
  cursor:pointer;
}

button:active{
  transform:scale(0.97);
}

button.op{
  background:var(--btn-op);
  color:var(--txt-dark);
  font-weight:bold;
}

button.clear{
  background:#222;
}

button.wide{
  grid-column:span 2;
}

/* ===== SMALL PHONES ===== */
@media (max-width:320px){
  .calculator{ padding:12px }
  .keys{ gap:6px }
}
</style>
</head>

<body>

<div class="calculator">

  <div class="header">
    <div class="brand">Tehreem’s Calculator</div>
  </div>

  <div class="display">
    <div class="history" id="history"></div>
    <div class="result" id="result">0</div>
  </div>

  <div class="keys" id="keys">
    <button class="clear" data-action="clear">C</button>
    <button data-action="back">⌫</button>
    <button data-action="percent">%</button>
    <button class="op" data-value="/">÷</button>

    <button data-value="7">7</button>
    <button data-value="8">8</button>
    <button data-value="9">9</button>
    <button class="op" data-value="*">×</button>

    <button data-value="4">4</button>
    <button data-value="5">5</button>
    <button data-value="6">6</button>
    <button class="op" data-value="-">−</button>

    <button data-value="1">1</button>
    <button data-value="2">2</button>
    <button data-value="3">3</button>
    <button class="op" data-value="+">+</button>

    <button class="wide" data-value="0">0</button>
    <button data-value=".">.</button>
    <button class="op" data-action="equals">=</button>
  </div>

</div>

<script>
/* ===== GET ELEMENTS ===== */
let result = document.getElementById("result");
let history = document.getElementById("history");
let keys = document.getElementById("keys");

/* ===== STORE CALCULATION ===== */
let calculation = "";

/* ===== UPDATE SCREEN ===== */
function updateScreen(){
  history.innerText = calculation;
  result.innerText = calculation === "" ? "0" : calculation;
}

/* ===== FIX SYMBOLS ===== */
function fixSymbols(text){
  text = text.replace(/÷/g,"/");
  text = text.replace(/×/g,"*");
  text = text.replace(/−/g,"-");
  text = text.replace(/%/g,"/100");
  return text;
}

/* ===== CALCULATE ===== */
function calculate(){
  try{
    let safeText = fixSymbols(calculation);
    let answer = eval(safeText);
    calculation = answer.toString();
  }catch{
    result.innerText = "Error";
    calculation = "";
  }
}

/* ===== BUTTON CLICKS ===== */
keys.addEventListener("click", function(e){
  let button = e.target;
  let value = button.dataset.value;
  let action = button.dataset.action;

  if(action === "clear"){
    calculation = "";
  }
  else if(action === "back"){
    calculation = calculation.slice(0,-1);
  }
  else if(action === "percent"){
    calculation += "%";
  }
  else if(action === "equals"){
    calculate();
  }
  else if(value){
    calculation += value;
  }

  updateScreen();
});

/* ===== KEYBOARD SUPPORT ===== */
window.addEventListener("keydown", function(e){
  if("0123456789+-*/.".includes(e.key)){
    calculation += e.key;
  }
  else if(e.key === "Enter"){
    calculate();
  }
  else if(e.key === "Backspace"){
    calculation = calculation.slice(0,-1);
  }
  else if(e.key === "Escape"){
    calculation = "";
  }

  updateScreen();
});
</script>

</body>
</html>
