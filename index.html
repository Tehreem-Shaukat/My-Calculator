<!DOCTYPE html>
<!-- Declares HTML5 document -->
<html lang="en">
<head>
<meta charset="UTF-8">
<!-- Makes layout responsive on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tehreem’s Calculator</title>

<style>
/* =====================
   CSS VARIABLES (Theme)
   ===================== */
:root{
  --bg:#000;              /* Page background color */
  --panel:#0e0e0e;        /* Calculator body color */
  --btn:#151515;          /* Normal button color */
  --btn-op:#ffffff;       /* Operator button color */
  --txt:#ffffff;          /* Default text color */
  --txt-dark:#000000;     /* Dark text (for white buttons) */
  --muted:#9a9a9a;        /* Muted / secondary text */
}

/* Reset default browser box model */
*{box-sizing:border-box}

/* Make body take full height */
html,body{height:100%}

/* =====================
   PAGE LAYOUT
   ===================== */
body{
  margin:0;                          /* Remove default margin */
  display:flex;                     /* Flexbox layout */
  align-items:center;               /* Center vertically */
  justify-content:center;           /* Center horizontally */
  background:var(--bg);             /* Black background */
  font-family:Inter,system-ui;      /* Modern font stack */
  color:var(--txt);                 /* White text */
  padding:12px;                     /* Safe spacing on small screens */
}

/* =====================
   CALCULATOR CONTAINER
   ===================== */
.calculator{
  width:min(420px, 100%);            /* Responsive width */
  background:var(--panel);           /* Dark panel */
  border-radius:clamp(16px,4vw,22px);/* Responsive rounded corners */
  padding:clamp(14px,4vw,22px);      /* Responsive padding */
  box-shadow:0 25px 60px rgba(0,0,0,.9); /* Soft shadow */
}

/* =====================
   HEADER
   ===================== */
.header{
  display:flex;
  justify-content:center;            /* Center title */
  margin-bottom:12px;
}

.brand{
  font-size:clamp(13px,3.5vw,15px);  /* Responsive font size */
  font-weight:600;
  letter-spacing:.4px;
}

/* =====================
   DISPLAY SCREEN
   ===================== */
.display{
  background:#000;                   /* Pure black screen */
  border-radius:clamp(12px,3vw,16px);
  padding:clamp(14px,4vw,20px);
  text-align:right;                  /* Numbers align right */
  margin-bottom:14px;
}

/* Expression history (small text) */
.history{
  font-size:clamp(11px,3vw,13px);
  color:var(--muted);
  min-height:1em;                    /* Prevent layout jump */
}

/* Main result number */
.result{
  font-size:clamp(26px,7vw,38px);    /* Responsive large text */
  font-weight:600;
  word-break:break-all;              /* Break long numbers */
}

/* =====================
   BUTTON GRID
   ===================== */
.keys{
  display:grid;
  grid-template-columns:repeat(4,1fr); /* 4 columns */
  gap:clamp(8px,3vw,12px);             /* Responsive spacing */
}

/* Base button style */
button{
  height:clamp(48px,12vw,58px);        /* Responsive height */
  border-radius:clamp(10px,3vw,14px);
  border:none;
  background:var(--btn);
  color:var(--txt);
  font-size:clamp(16px,4.5vw,18px);
  cursor:pointer;
  transition:transform .05s ease;
}

/* Press animation */
button:active{
  transform:scale(.97);
}

/* Operator buttons (+ − × ÷ =) */
button.op{
  background:var(--btn-op);
  color:var(--txt-dark);
  font-weight:600;
}

/* Clear button */
button.clear{
  background:#222;
}

/* Zero button spans two columns */
button.wide{
  grid-column:span 2;
}

/* =====================
   SMALL SCREEN FIX
   ===================== */
@media (max-width:320px){
  .calculator{padding:12px}
  .keys{gap:6px}
}
</style>
</head>

<body>

<!-- =====================
     CALCULATOR HTML
     ===================== -->
<div class="calculator">

  <!-- Header -->
  <div class="header">
    <div class="brand">Tehreem’s Calculator</div>
  </div>

  <!-- Display -->
  <div class="display">
    <div class="history" id="history"></div>
    <div class="result" id="result">0</div>
  </div>

  <!-- Buttons -->
  <div class="keys" id="keys">
    <button class="clear" data-action="clear">C</button>
    <button data-action="back">⌫</button>
    <button data-action="percent">%</button>
    <button class="op" data-value="/">÷</button>

    <button data-value="7">7</button>
    <button data-value="8">8</button>
    <button data-value="9">9</button>
    <button class="op" data-value="*">×</button>

    <button data-value="4">4</button>
    <button data-value="5">5</button>
    <button data-value="6">6</button>
    <button class="op" data-value="-">−</button>

    <button data-value="1">1</button>
    <button data-value="2">2</button>
    <button data-value="3">3</button>
    <button class="op" data-value="+">+</button>

    <button class="wide" data-value="0">0</button>
    <button data-value=".">.</button>
    <button class="op" data-action="equals">=</button>
  </div>
</div>

<script>
/* =====================
   JAVASCRIPT LOGIC
   ===================== */

/* DOM references */
const result = document.getElementById("result");
const history = document.getElementById("history");
const keys = document.getElementById("keys");

/* Expression string */
let expr = "";

/* Update display */
function render(){
  history.textContent = expr;         /* Show expression */
  result.textContent = expr || "0";   /* Show 0 if empty */
}

/* Replace symbols for JS math */
function sanitize(e){
  return e.replace(/÷/g,"/")
          .replace(/×/g,"*")
          .replace(/−/g,"-")
          .replace(/%/g,"/100");
}

/* Calculate result safely */
function evaluate(){
  try{
    const safe = sanitize(expr);
    if(!/^[0-9+\-*/.() ]+$/.test(safe)) throw "";
    expr = String(+Function("return "+safe)().toFixed(10));
  }catch{
    result.textContent = "Error";
    expr = "";
  }
}

/* Button clicks */
keys.addEventListener("click",e=>{
  const b = e.target.closest("button");
  if(!b) return;

  const v = b.dataset.value;
  const a = b.dataset.action;

  if(a==="clear") 
    expr="";
  else if(a==="back") 
    expr=expr.slice(0,-1);
  else if(a==="percent") 
    expr+="%";
  else if(a==="equals") 
    evaluate();
  else if(v) 
    expr+=v;

  render();
});

/* Keyboard support */
window.addEventListener("keydown",e=>{
  if(/[0-9.+\-*/]/.test(e.key)) expr+=e.key;
  if(e.key==="Enter") evaluate();
  if(e.key==="Backspace") expr=expr.slice(0,-1);
  if(e.key==="Escape") expr="";
  render();
});
</script>

</body>
</html>
